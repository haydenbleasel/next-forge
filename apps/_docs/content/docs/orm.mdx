---
title: ORM
description: How to handle ORM in next-forge
---

[Prisma](https://www.prisma.io/) is used as the ORM (Object-Relational Mapping) in next-forge. It provides a type-safe database client that makes it easy to work with your database while maintaining strong typing throughout your application.

## Overview

Prisma serves several key purposes in our stack:

- Provides a declarative way to define your database schema
- Generates type-safe database client
- Handles database migrations
- Offers powerful query capabilities with full TypeScript support

## Schema Definition

The database schema is defined in `packages/database/prisma/schema.prisma`. This schema file uses Prisma's schema definition language to describe your database tables, relationships, and types.

### Adding a new model

Let's say we want to add a new model called `Post`, describing a blog post. The blog content will be in a JSON format, generated by a library like [Tiptap](https://tiptap.dev/). To do this, we would add the following to your schema:

```prisma title="packages/database/prisma/schema.prisma"
model Post { // [!code ++]
  id        String   @id @default(cuid()) // [!code ++]
  title     String // [!code ++]
  content   Json // [!code ++]
  createdAt DateTime @default(now()) // [!code ++]
  updatedAt DateTime @updatedAt // [!code ++]
} // [!code ++]
```

### Deploying changes

To deploy your schema changes, run the following command:

```bash title="Terminal"
pnpm migrate
```

This runs the following commands:

- `npx prisma format` to format the schema file
- `npx prisma generate` to generate the Prisma client
- `npx prisma db push` to push the schema changes to the database

## Prisma Studio

next-forge includes Prisma Studio, which is a visual editor for your database. To start it, run the following command:

```bash title="Terminal"
pnpm dev --filter studio
```
